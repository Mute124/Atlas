\doxysection{Physics\+Prototype.\+h}
\hypertarget{_physics_prototype_8h_source}{}\label{_physics_prototype_8h_source}\index{C:/Dev/Techstorm-\/v5/src/application/prototyping/PhysicsPrototype.h@{C:/Dev/Techstorm-\/v5/src/application/prototyping/PhysicsPrototype.h}}
\mbox{\hyperlink{_physics_prototype_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <Jolt/Jolt.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00004}00004\ \textcolor{comment}{//\ Jolt\ includes}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <Jolt/RegisterTypes.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <Jolt/Core/Factory.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <Jolt/Core/TempAllocator.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <Jolt/Core/JobSystemThreadPool.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/PhysicsSettings.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/PhysicsSystem.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/BoxShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/SphereShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00013}00013\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyCreationSettings.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyActivationListener.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/HeightFieldShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/PhysicsMaterialSimple.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00017}00017\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/MeshShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00018}00018\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/ObjectLayer.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00020}00020\ \textcolor{preprocessor}{\#include\ <Jolt/Core/Color.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00021}00021\ \textcolor{preprocessor}{\#include\ <Jolt/Core/Core.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00022}00022\ \textcolor{preprocessor}{\#include\ <Jolt/Core/IssueReporting.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00023}00023\ \textcolor{preprocessor}{\#include\ <Jolt/Core/JobSystem.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00024}00024\ \textcolor{preprocessor}{\#include\ <Jolt/Core/Memory.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00025}00025\ \textcolor{preprocessor}{\#include\ <Jolt/Core/StringTools.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00026}00026\ \textcolor{preprocessor}{\#include\ <Jolt/Geometry/Triangle.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00027}00027\ \textcolor{preprocessor}{\#include\ <Jolt/Math/Float3.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00028}00028\ \textcolor{preprocessor}{\#include\ <Jolt/Math/Quat.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00029}00029\ \textcolor{preprocessor}{\#include\ <Jolt/Math/Real.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00030}00030\ \textcolor{preprocessor}{\#include\ <Jolt/Math/Vec3.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00031}00031\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/Body.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00032}00032\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyID.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00033}00033\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyInterface.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00034}00034\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/MotionType.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00035}00035\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/BroadPhase/BroadPhaseLayer.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00036}00036\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/ContactListener.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00037}00037\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/Shape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00038}00038\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/SubShapeIDPair.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00039}00039\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/EActivation.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00040}00040\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/HeightFieldShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00042}00042\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/BoxShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00043}00043\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyCreationSettings.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00044}00044\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/PhysicsMaterialSimple.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00045}00045\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/CastResult.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00046}00046\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/RayCast.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00048}00048\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/TriangleShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00049}00049\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/BoxShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00050}00050\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyCreationSettings.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00053}00053\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Body/BodyCreationSettings.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00054}00054\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/Shape/SphereShape.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00055}00055\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/ShapeCast.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00056}00056\ \textcolor{preprocessor}{\#include\ <Jolt/Physics/Collision/CollisionCollectorImpl.h>}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00058}00058\ \textcolor{comment}{//\ Disable\ common\ warnings\ triggered\ by\ Jolt,\ you\ can\ use\ JPH\_SUPPRESS\_WARNING\_PUSH\ /\ JPH\_SUPPRESS\_WARNING\_POP\ to\ store\ and\ restore\ the\ warning\ state}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00059}00059\ JPH\_SUPPRESS\_WARNINGS}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00061}00061\ \textcolor{comment}{//\ If\ you\ want\ your\ code\ to\ compile\ using\ single\ or\ double\ precision\ write\ 0.0\_r\ to\ get\ a\ Real\ value\ that\ compiles\ to\ double\ or\ float\ depending\ if\ JPH\_DOUBLE\_PRECISION\ is\ set\ or\ not.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00062}00062\ \textcolor{keyword}{using\ namespace\ }JPH::literals;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00064}00064\ \textcolor{comment}{//\ We're\ also\ using\ STL\ classes\ in\ this\ example}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00065}00065\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00069}00069\ \textcolor{comment}{//\ Callback\ for\ traces,\ connect\ this\ to\ your\ own\ trace\ function\ if\ you\ have\ one}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00070}00070\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ TraceImpl(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ inFMT,\ ...)}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00071}00071\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00072}00072\ \ \ \ \ \textcolor{comment}{//\ Format\ the\ message}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00073}00073\ \ \ \ \ va\_list\ list;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00074}00074\ \ \ \ \ va\_start(list,\ inFMT);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00075}00075\ \ \ \ \ \textcolor{keywordtype}{char}\ buffer[1024];}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00076}00076\ \ \ \ \ vsnprintf(buffer,\ \textcolor{keyword}{sizeof}(buffer),\ inFMT,\ list);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00077}00077\ \ \ \ \ va\_end(list);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00079}00079\ \ \ \ \ \textcolor{comment}{//\ Print\ to\ the\ TTY}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00080}00080\ \ \ \ \ cout\ <<\ buffer\ <<\ endl;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00081}00081\ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00083}00083\ \textcolor{preprocessor}{\#ifdef\ JPH\_ENABLE\_ASSERTS}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00085}00085\ \textcolor{comment}{//\ Callback\ for\ asserts,\ connect\ this\ to\ your\ own\ assert\ handler\ if\ you\ have\ one}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00086}00086\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ AssertFailedImpl(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ inExpression,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ inMessage,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ inFile,\ JPH::uint\ inLine)}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00087}00087\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00088}00088\ \ \ \ \ \textcolor{comment}{//\ Print\ to\ the\ TTY}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00089}00089\ \ \ \ \ cout\ <<\ inFile\ <<\ \textcolor{stringliteral}{"{}:"{}}\ <<\ inLine\ <<\ \textcolor{stringliteral}{"{}:\ ("{}}\ <<\ inExpression\ <<\ \textcolor{stringliteral}{"{})\ "{}}\ <<\ (inMessage\ !=\ \textcolor{keyword}{nullptr}\ ?\ inMessage\ :\ \textcolor{stringliteral}{"{}"{}})\ <<\ endl;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00091}00091\ \ \ \ \ \textcolor{comment}{//\ Breakpoint}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00092}00092\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00093}00093\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00095}00095\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_ENABLE\_ASSERTS}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00096}00096\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00097}00097\ \textcolor{comment}{//\ Layer\ that\ objects\ can\ be\ in,\ determines\ which\ other\ objects\ it\ can\ collide\ with}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00098}00098\ \textcolor{comment}{//\ Typically\ you\ at\ least\ want\ to\ have\ 1\ layer\ for\ moving\ bodies\ and\ 1\ layer\ for\ static\ bodies,\ but\ you\ can\ have\ more}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00099}00099\ \textcolor{comment}{//\ layers\ if\ you\ want.\ E.g.\ you\ could\ have\ a\ layer\ for\ high\ detail\ collision\ (which\ is\ not\ used\ by\ the\ physics\ simulation}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00100}00100\ \textcolor{comment}{//\ but\ only\ if\ you\ do\ collision\ testing).}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00101}\mbox{\hyperlink{namespace_layers}{00101}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_layers}{Layers}}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00102}00102\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00103}00103\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::ObjectLayer\ NON\_MOVING\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00104}00104\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::ObjectLayer\ MOVING\ =\ 1;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00105}00105\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::ObjectLayer\ TERRIAN\ =\ 2;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00106}00106\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::ObjectLayer\ NUM\_LAYERS\ =\ 3;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00107}00107\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00110}\mbox{\hyperlink{class_object_layer_pair_filter_impl}{00110}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_object_layer_pair_filter_impl}{ObjectLayerPairFilterImpl}}\ :\ \textcolor{keyword}{public}\ JPH::ObjectLayerPairFilter}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00111}00111\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00112}00112\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00113}\mbox{\hyperlink{class_object_layer_pair_filter_impl_afd7e357870f8e60ff900decf5a02903b}{00113}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_layer_pair_filter_impl_afd7e357870f8e60ff900decf5a02903b}{ShouldCollide}}(JPH::ObjectLayer\ inObject1,\ JPH::ObjectLayer\ inObject2)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00114}00114\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00115}00115\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ namespace\ }JPH;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (inObject1)}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00117}00117\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00118}00118\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ Layers::NON\_MOVING:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inObject2\ ==\ Layers::MOVING;\ \textcolor{comment}{//\ Non\ moving\ only\ collides\ with\ moving}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ Layers::MOVING:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Moving\ collides\ with\ everything}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00122}00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ Layers::TERRIAN:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inObject2\ !=\ Layers::TERRIAN;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00124}00124\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ JPH\_ASSERT(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00127}00127\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00128}00128\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00129}00129\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00131}00131\ \textcolor{comment}{//\ Each\ broadphase\ layer\ results\ in\ a\ separate\ bounding\ volume\ tree\ in\ the\ broad\ phase.\ You\ at\ least\ want\ to\ have}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00132}00132\ \textcolor{comment}{//\ a\ layer\ for\ non-\/moving\ and\ moving\ objects\ to\ avoid\ having\ to\ update\ a\ tree\ full\ of\ static\ objects\ every\ frame.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00133}00133\ \textcolor{comment}{//\ You\ can\ have\ a\ 1-\/on-\/1\ mapping\ between\ object\ layers\ and\ broadphase\ layers\ (like\ in\ this\ case)\ but\ if\ you\ have}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00134}00134\ \textcolor{comment}{//\ many\ object\ layers\ you'll\ be\ creating\ many\ broad\ phase\ trees,\ which\ is\ not\ efficient.\ If\ you\ want\ to\ fine\ tune}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00135}00135\ \textcolor{comment}{//\ your\ broadphase\ layers\ define\ JPH\_TRACK\_BROADPHASE\_STATS\ and\ look\ at\ the\ stats\ reported\ on\ the\ TTY.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00136}\mbox{\hyperlink{namespace_broad_phase_layers}{00136}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_broad_phase_layers}{BroadPhaseLayers}}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00137}00137\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00138}00138\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::BroadPhaseLayer\ NON\_MOVING(0);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00139}00139\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::BroadPhaseLayer\ MOVING(1);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00140}00140\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ JPH::uint\ NUM\_LAYERS(2);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00141}00141\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00143}00143\ \textcolor{comment}{//\ BroadPhaseLayerInterface\ implementation}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00144}00144\ \textcolor{comment}{//\ This\ defines\ a\ mapping\ between\ object\ and\ broadphase\ layers.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00145}\mbox{\hyperlink{class_b_p_layer_interface_impl}{00145}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_b_p_layer_interface_impl}{BPLayerInterfaceImpl}}\ final\ :\ \textcolor{keyword}{public}\ JPH::BroadPhaseLayerInterface}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00146}00146\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00147}00147\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00148}\mbox{\hyperlink{class_b_p_layer_interface_impl_a27ca33deade1ae8681190196b93bc30e}{00148}}\ \ \ \ \ \mbox{\hyperlink{class_b_p_layer_interface_impl_a27ca33deade1ae8681190196b93bc30e}{BPLayerInterfaceImpl}}()}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00149}00149\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00150}00150\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ a\ mapping\ table\ from\ object\ to\ broad\ phase\ layer}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00151}00151\ \ \ \ \ \ \ \ \ mObjectToBroadPhase[Layers::NON\_MOVING]\ =\ BroadPhaseLayers::NON\_MOVING;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00152}00152\ \ \ \ \ \ \ \ \ mObjectToBroadPhase[Layers::MOVING]\ =\ BroadPhaseLayers::MOVING;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00153}00153\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00155}\mbox{\hyperlink{class_b_p_layer_interface_impl_a9bb2188211acd9418c8c9280a28b6e57}{00155}}\ \ \ \ \ \textcolor{keyword}{virtual}\ JPH::uint\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_p_layer_interface_impl_a9bb2188211acd9418c8c9280a28b6e57}{GetNumBroadPhaseLayers}}()\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00156}00156\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00157}00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BroadPhaseLayers::NUM\_LAYERS;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00158}00158\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00159}00159\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00160}\mbox{\hyperlink{class_b_p_layer_interface_impl_a455d4062b45ece25d2af6eaf1250df4c}{00160}}\ \ \ \ \ \textcolor{keyword}{virtual}\ JPH::BroadPhaseLayer\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_b_p_layer_interface_impl_a455d4062b45ece25d2af6eaf1250df4c}{GetBroadPhaseLayer}}(JPH::ObjectLayer\ inLayer)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00161}00161\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00162}00162\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ namespace\ }JPH;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00163}00163\ \ \ \ \ \ \ \ \ JPH\_ASSERT(inLayer\ <\ Layers::NUM\_LAYERS);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00164}00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mObjectToBroadPhase[inLayer];}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00165}00165\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00167}00167\ \textcolor{preprocessor}{\#if\ defined(JPH\_EXTERNAL\_PROFILE)\ ||\ defined(JPH\_PROFILE\_ENABLED)}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00168}00168\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ GetBroadPhaseLayerName(BroadPhaseLayer\ inLayer)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00169}00169\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00170}00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ ((BroadPhaseLayer::Type)inLayer)}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00171}00171\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00172}00172\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ (BroadPhaseLayer::Type)BroadPhaseLayers::NON\_MOVING:\ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}NON\_MOVING"{}};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ (BroadPhaseLayer::Type)BroadPhaseLayers::MOVING:\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}MOVING"{}};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ JPH\_ASSERT(\textcolor{keyword}{false});\ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}INVALID"{}};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00175}00175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00176}00176\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00177}00177\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ JPH\_EXTERNAL\_PROFILE\ ||\ JPH\_PROFILE\_ENABLED}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00179}00179\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00180}00180\ \ \ \ \ JPH::BroadPhaseLayer\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mObjectToBroadPhase[Layers::NUM\_LAYERS];}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00181}00181\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00184}\mbox{\hyperlink{class_object_vs_broad_phase_layer_filter_impl}{00184}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_object_vs_broad_phase_layer_filter_impl}{ObjectVsBroadPhaseLayerFilterImpl}}\ :\ \textcolor{keyword}{public}\ JPH::ObjectVsBroadPhaseLayerFilter}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00185}00185\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00186}00186\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00187}\mbox{\hyperlink{class_object_vs_broad_phase_layer_filter_impl_a630a2d6cb5fa96cba1dcf0fa11bb4a1e}{00187}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_object_vs_broad_phase_layer_filter_impl_a630a2d6cb5fa96cba1dcf0fa11bb4a1e}{ShouldCollide}}(JPH::ObjectLayer\ inLayer1,\ JPH::BroadPhaseLayer\ inLayer2)\textcolor{keyword}{\ const\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00188}00188\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ namespace\ }JPH;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00190}00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (inLayer1)}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00191}00191\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00192}00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ Layers::NON\_MOVING:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inLayer2\ ==\ BroadPhaseLayers::MOVING;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00194}00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ Layers::MOVING:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00196}00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ JPH\_ASSERT(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00199}00199\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00200}00200\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00201}00201\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00203}00203\ \textcolor{comment}{//\ An\ example\ contact\ listener}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00204}\mbox{\hyperlink{class_my_contact_listener}{00204}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_my_contact_listener}{MyContactListener}}\ :\ \textcolor{keyword}{public}\ JPH::ContactListener}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00205}00205\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00206}00206\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00207}00207\ \ \ \ \ \textcolor{comment}{//\ See:\ ContactListener}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00208}\mbox{\hyperlink{class_my_contact_listener_aa6c8b2f3b0d5e0bd28d683fd6e2391e2}{00208}}\ \ \ \ \ \textcolor{keyword}{virtual}\ JPH::ValidateResult\ \mbox{\hyperlink{class_my_contact_listener_aa6c8b2f3b0d5e0bd28d683fd6e2391e2}{OnContactValidate}}(\textcolor{keyword}{const}\ JPH::Body\&\ inBody1,\ \textcolor{keyword}{const}\ JPH::Body\&\ inBody2,\ JPH::RVec3Arg\ inBaseOffset,\ \textcolor{keyword}{const}\ JPH::CollideShapeResult\&\ inCollisionResult)\textcolor{keyword}{\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00209}00209\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ "{}Contact\ validate\ callback"{}\ <<\ endl;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00211}00211\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00212}00212\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Allows\ you\ to\ ignore\ a\ contact\ before\ it\ is\ created\ (using\ layers\ to\ not\ make\ objects\ collide\ is\ cheaper!)}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00213}00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ JPH::ValidateResult::AcceptAllContactsForThisBodyPair;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00214}00214\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00216}\mbox{\hyperlink{class_my_contact_listener_ac3a87b1625090f702749405e75090b48}{00216}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_my_contact_listener_ac3a87b1625090f702749405e75090b48}{OnContactAdded}}(\textcolor{keyword}{const}\ JPH::Body\&\ inBody1,\ \textcolor{keyword}{const}\ JPH::Body\&\ inBody2,\ \textcolor{keyword}{const}\ JPH::ContactManifold\&\ inManifold,\ JPH::ContactSettings\&\ ioSettings)\textcolor{keyword}{\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00217}00217\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00218}00218\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ "{}A\ contact\ was\ added"{}\ <<\ endl;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00219}00219\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00220}00220\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00221}\mbox{\hyperlink{class_my_contact_listener_ac29c5acd491eac54f112468bc8759683}{00221}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_my_contact_listener_ac29c5acd491eac54f112468bc8759683}{OnContactPersisted}}(\textcolor{keyword}{const}\ JPH::Body\&\ inBody1,\ \textcolor{keyword}{const}\ JPH::Body\&\ inBody2,\ \textcolor{keyword}{const}\ JPH::ContactManifold\&\ inManifold,\ JPH::ContactSettings\&\ ioSettings)\textcolor{keyword}{\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00222}00222\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00223}00223\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ "{}A\ contact\ was\ persisted"{}\ <<\ endl;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00224}00224\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00225}00225\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00226}\mbox{\hyperlink{class_my_contact_listener_aaec88e07264cd984f15a14ed31f21474}{00226}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_my_contact_listener_aaec88e07264cd984f15a14ed31f21474}{OnContactRemoved}}(\textcolor{keyword}{const}\ JPH::SubShapeIDPair\&\ inSubShapePair)\textcolor{keyword}{\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00227}00227\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00228}00228\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ "{}A\ contact\ was\ removed"{}\ <<\ endl;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00229}00229\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00230}00230\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00231}00231\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00232}00232\ \textcolor{comment}{//\ An\ example\ activation\ listener}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00233}\mbox{\hyperlink{class_my_body_activation_listener}{00233}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_my_body_activation_listener}{MyBodyActivationListener}}\ :\ \textcolor{keyword}{public}\ JPH::BodyActivationListener}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00234}00234\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00235}00235\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00236}\mbox{\hyperlink{class_my_body_activation_listener_a46ed7c95e370d21f59d6c9119f089773}{00236}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{class_my_body_activation_listener_a46ed7c95e370d21f59d6c9119f089773}{OnBodyActivated}}(\textcolor{keyword}{const}\ JPH::BodyID\&\ inBodyID,\ JPH::uint64\ inBodyUserData)\textcolor{keyword}{\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00237}00237\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00238}00238\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ "{}A\ body\ got\ activated"{}\ <<\ endl;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00239}00239\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00240}00240\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00241}\mbox{\hyperlink{class_my_body_activation_listener_a3ea990626553ee5ee3fec3922aa46a17}{00241}}\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \mbox{\hyperlink{class_my_body_activation_listener_a3ea990626553ee5ee3fec3922aa46a17}{OnBodyDeactivated}}(\textcolor{keyword}{const}\ JPH::BodyID\&\ inBodyID,\ JPH::uint64\ inBodyUserData)\textcolor{keyword}{\ override}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00242}00242\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00243}00243\ \ \ \ \ \ \ \ \ \textcolor{comment}{//cout\ <<\ "{}A\ body\ went\ to\ sleep"{}\ <<\ endl;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00244}00244\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00245}00245\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00247}00247\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00248}00248\ JPH::PhysicsSystem*\ \mbox{\hyperlink{_physics_prototype_8h_a04200ec9f91f683e0a28431c0c46e713}{GetPhysicsSystem}}();}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00249}00249\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00250}\mbox{\hyperlink{struct_allocated_physics_resources}{00250}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_allocated_physics_resources}{AllocatedPhysicsResources}}\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00251}\mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{00251}}\ \ \ \ \ JPH::uint\ \mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}}\ =\ 65536;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00252}\mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{00252}}\ \ \ \ \ JPH::uint\ \mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00253}\mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{00253}}\ \ \ \ \ JPH::uint\ \mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}}\ =\ 65536;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00254}\mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{00254}}\ \ \ \ \ JPH::uint\ \mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}}\ =\ 1024;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00256}\mbox{\hyperlink{struct_allocated_physics_resources_acd66edd73604bd6b072affe25e116b22}{00256}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_allocated_physics_resources_acd66edd73604bd6b072affe25e116b22}{preAllocatedMemory}}\ =\ 20\ *\ 1024\ *\ 1024;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00257}00257\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00258}\mbox{\hyperlink{struct_allocated_physics_resources_a600b81112798d31deb945a5a8d92cca7}{00258}}\ \ \ \ \ \mbox{\hyperlink{struct_allocated_physics_resources_a600b81112798d31deb945a5a8d92cca7}{AllocatedPhysicsResources}}()\ \{\}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00259}\mbox{\hyperlink{struct_allocated_physics_resources_af5809840be160867bffea6ec5317f71c}{00259}}\ \ \ \ \ \mbox{\hyperlink{struct_allocated_physics_resources_af5809840be160867bffea6ec5317f71c}{AllocatedPhysicsResources}}(\mbox{\hyperlink{struct_allocated_physics_resources}{AllocatedPhysicsResources}}\ \textcolor{keyword}{const}\&\ resources)\ :\ \mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}}(resources.\mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}}),\ \mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}}(resources.\mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}}),\ \mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}}(resources.\mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}}),\ \mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}}(resources.\mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}})\ \{\}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00261}\mbox{\hyperlink{struct_allocated_physics_resources_aa502f9e7001a563361c0a5f1ac4cbde4}{00261}}\ \ \ \ \ \mbox{\hyperlink{struct_allocated_physics_resources_aa502f9e7001a563361c0a5f1ac4cbde4}{AllocatedPhysicsResources}}(\textcolor{keyword}{const}\ JPH::uint\&\ \mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}},\ \textcolor{keyword}{const}\ JPH::uint\&\ \mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}},\ \textcolor{keyword}{const}\ JPH::uint\&\ \mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}},\ \textcolor{keyword}{const}\ JPH::uint\&\ \mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}})}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00262}00262\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}}(\mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}}),\ \mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}}(\mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}}),\ \mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}}(\mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}}),\ \mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}}(\mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}})}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00263}00263\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00264}00264\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00265}00265\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00266}00266\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00267}\mbox{\hyperlink{class_physics_engine}{00267}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_physics_engine}{PhysicsEngine}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_techstorm_1_1_singleton}{Techstorm::Singleton}}<PhysicsEngine>\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00268}00268\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00269}\mbox{\hyperlink{class_physics_engine_ae323fe119f294a4ffb42852b38b02e43}{00269}}\ \ \ \ \ \mbox{\hyperlink{class_physics_engine_ae323fe119f294a4ffb42852b38b02e43}{PhysicsEngine}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00270}00270\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00271}\mbox{\hyperlink{class_physics_engine_aabfa54a376c35880bd8a669391d22444}{00271}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_physics_engine_aabfa54a376c35880bd8a669391d22444}{init}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_allocated_physics_resources}{AllocatedPhysicsResources}}\ resources)\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00272}00272\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!mIsInitialized)\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ mResources\ =\ resources;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00274}00274\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Register\ allocation\ hook.\ In\ this\ example\ we'll\ just\ let\ Jolt\ use\ malloc\ /\ free\ but\ you\ can\ override\ these\ if\ you\ want\ (see\ Memory.h).}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ needs\ to\ be\ done\ before\ any\ other\ Jolt\ function\ is\ called.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ JPH::RegisterDefaultAllocator();}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Install\ trace\ and\ assert\ callbacks}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ JPH::Trace\ =\ TraceImpl;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ JPH\_IF\_ENABLE\_ASSERTS(JPH::AssertFailed\ =\ AssertFailedImpl;)}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00282}00282\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Create\ a\ factory,\ this\ class\ is\ responsible\ for\ creating\ instances\ of\ classes\ based\ on\ their\ name\ or\ hash\ and\ is\ mainly\ used\ for\ deserialization\ of\ saved\ data.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ It\ is\ not\ directly\ used\ in\ this\ example\ but\ still\ required.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ JPH::Factory::sInstance\ =\ \textcolor{keyword}{new}\ JPH::Factory();}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Register\ all\ physics\ types\ with\ the\ factory\ and\ install\ their\ collision\ handlers\ with\ the\ CollisionDispatch\ class.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ you\ have\ your\ own\ custom\ shape\ types\ you\ probably\ need\ to\ register\ their\ handlers\ with\ the\ CollisionDispatch\ before\ calling\ this\ function.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ you\ implement\ your\ own\ default\ material\ (PhysicsMaterial::sDefault)\ make\ sure\ to\ initialize\ it\ before\ this\ function\ or\ else\ this\ function\ will\ create\ one\ for\ you.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ JPH::RegisterTypes();}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ need\ a\ temp\ allocator\ for\ temporary\ allocations\ during\ the\ physics\ update.\ We're}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pre-\/allocating\ 10\ MB\ to\ avoid\ having\ to\ do\ allocations\ during\ the\ physics\ update.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ B.t.w.\ 10\ MB\ is\ way\ too\ much\ for\ this\ example\ but\ it\ is\ a\ typical\ value\ you\ can\ use.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ you\ don't\ want\ to\ pre-\/allocate\ you\ can\ also\ use\ TempAllocatorMalloc\ to\ fall\ back\ to}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ malloc\ /\ free.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//JPH::TempAllocatorImpl\ temp\_allocator(mResources.preAllocatedMemory);}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ mTempAllocator\ =\ \textcolor{keyword}{new}\ JPH::TempAllocatorImpl(mResources.\mbox{\hyperlink{struct_allocated_physics_resources_acd66edd73604bd6b072affe25e116b22}{preAllocatedMemory}});}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00299}00299\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ need\ a\ job\ system\ that\ will\ execute\ physics\ jobs\ on\ multiple\ threads.\ Typically}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ you\ would\ implement\ the\ JobSystem\ interface\ yourself\ and\ let\ Jolt\ Physics\ run\ on\ top}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ your\ own\ job\ scheduler.\ JobSystemThreadPool\ is\ an\ example\ implementation.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ mJobSystemThreadPool\ =\ \textcolor{keyword}{new}\ JPH::JobSystemThreadPool(JPH::cMaxPhysicsJobs,\ JPH::cMaxPhysicsBarriers,\ thread::hardware\_concurrency()\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00304}00304\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00305}00305\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}\ =\ \textcolor{keyword}{new}\ JPH::PhysicsSystem();}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Now\ we\ can\ create\ the\ actual\ physics\ system.\ This\ is\ not\ nullptr.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}-\/>Init(}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resources.\mbox{\hyperlink{struct_allocated_physics_resources_aea424f1110d317c326c99e40dc678205}{cMaxBodies}},}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resources.\mbox{\hyperlink{struct_allocated_physics_resources_a351559f632b1593af5ea770b9b13f616}{cNumBodyMutexes}},}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resources.\mbox{\hyperlink{struct_allocated_physics_resources_acb6e22756bf5b409a56512fa4314ca7e}{cMaxBodyPairs}},}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resources.\mbox{\hyperlink{struct_allocated_physics_resources_a212527c2cf9d61fa939c677b1fca5fe0}{cMaxContactConstraints}},}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mBroadPhaseLayerInterface,}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mObjectVsBroadPhaseLayerFilter,}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mObjectLayerPairFilter}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00317}00317\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ body\ activation\ listener\ gets\ notified\ when\ bodies\ activate\ and\ go\ to\ sleep}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00319}00319\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note\ that\ this\ is\ called\ from\ a\ job\ so\ whatever\ you\ do\ here\ needs\ to\ be\ thread\ safe.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Registering\ one\ is\ entirely\ optional.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//MyBodyActivationListener\ body\_activation\_listener;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}-\/>SetBodyActivationListener(mBodyActivationListener);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00323}00323\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ contact\ listener\ gets\ notified\ when\ bodies\ (are\ about\ to)\ collide,\ and\ when\ they\ separate\ again.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note\ that\ this\ is\ called\ from\ a\ job\ so\ whatever\ you\ do\ here\ needs\ to\ be\ thread\ safe.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Registering\ one\ is\ entirely\ optional.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00327}00327\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//MyContactListener\ contact\_listener;}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}-\/>SetContactListener(mContactListener);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00329}00329\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ main\ way\ to\ interact\ with\ the\ bodies\ in\ the\ physics\ system\ is\ through\ the\ body\ interface.\ There\ is\ a\ locking\ and\ a\ non-\/locking}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ variant\ of\ this.\ We're\ going\ to\ use\ the\ locking\ version\ (even\ though\ we're\ not\ planning\ to\ access\ bodies\ from\ multiple\ threads)}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ mBodyInterfaceHolder\ =\ \textcolor{keyword}{new}\ BodyInterfaceHolder(\mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}-\/>GetBodyInterface());}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00333}00333\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00334}00334\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00335}00335\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00337}\mbox{\hyperlink{class_physics_engine_a2c36ce16ce3b0908e8d04ddece7c2914}{00337}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_physics_engine_a2c36ce16ce3b0908e8d04ddece7c2914}{update}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ cDeltaTime)\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00338}00338\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}-\/>Update(cDeltaTime,\ mCollisionSteps,\ 4,\ mTempAllocator,\ mJobSystemThreadPool);}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00339}00339\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00340}00340\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00341}\mbox{\hyperlink{class_physics_engine_ab07cd90671d6b23946949f920839b6ec}{00341}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_physics_engine_ab07cd90671d6b23946949f920839b6ec}{optimizeBroadPhase}}()\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00342}00342\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}-\/>OptimizeBroadPhase();}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00343}00343\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00344}00344\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00345}\mbox{\hyperlink{class_physics_engine_a9f834f634f5d057bde3ba4cb5d98001a}{00345}}\ \ \ \ \ JPH::BodyInterface\&\ \mbox{\hyperlink{class_physics_engine_a9f834f634f5d057bde3ba4cb5d98001a}{getBodyInterface}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ mBodyInterfaceHolder-\/>bodyInterface;\ \}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00346}\mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{00346}}\ \ \ \ \ JPH::PhysicsSystem*\ \mbox{\hyperlink{class_physics_engine_a7ff9b3b709ca5b8012dd9631646cff63}{mPhysicsSystem}}\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ physics\ system\ that\ simulates\ the\ world}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00347}00347\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00348}00348\ \ \ \ \ \textcolor{comment}{//\ A\ work\ around\ to\ keep\ the\ body\ interface\ references.}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00349}00349\ \ \ \ \ \textcolor{keyword}{class\ }BodyInterfaceHolder\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00350}00350\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00351}00351\ \ \ \ \ \ \ \ \ JPH::BodyInterface\&\ bodyInterface;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00352}00352\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00353}00353\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ BodyInterfaceHolder(JPH::BodyInterface\&\ bodyInterface)\ :\ bodyInterface(bodyInterface)\ \{\}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00354}00354\ \ \ \ \ \ \ \ \ \string~BodyInterfaceHolder()\ \{\}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00355}00355\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00356}00356\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00357}00357\ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00358}00358\ \ \ \ \ \textcolor{comment}{//float\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mUpdateFrequency\ =\ 60.0f;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ Physics\ update\ frequency,\ measured\ in\ Hz\ (cycles\ per\ second)}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00359}00359\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mCollisionSteps\ =\ 1;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ How\ many\ collision\ detection\ steps\ per\ physics\ update}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00360}00360\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00361}00361\ \ \ \ \ BodyInterfaceHolder*\ mBodyInterfaceHolder;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00362}00362\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00363}00363\ \ \ \ \ \textcolor{keywordtype}{bool}\ mIsInitialized\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00364}00364\ \ \ \ \ \mbox{\hyperlink{struct_allocated_physics_resources}{AllocatedPhysicsResources}}\ mResources;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00366}00366\ \ \ \ \ JPH::TempAllocator*\ mTempAllocator\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00367}00367\ \ \ \ \ JPH::JobSystem*\ mJobSystemThreadPool\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00368}00368\ \ \ \ \ \mbox{\hyperlink{class_b_p_layer_interface_impl}{BPLayerInterfaceImpl}}\ mBroadPhaseLayerInterface;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00369}00369\ \ \ \ \ \mbox{\hyperlink{class_object_vs_broad_phase_layer_filter_impl}{ObjectVsBroadPhaseLayerFilterImpl}}\ mObjectVsBroadPhaseLayerFilter;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00370}00370\ \ \ \ \ \mbox{\hyperlink{class_object_layer_pair_filter_impl}{ObjectLayerPairFilterImpl}}\ mObjectLayerPairFilter;}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00372}00372\ \ \ \ \ JPH::ContactListener*\ mContactListener\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Contact\ listener\ implementation}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00373}00373\ \ \ \ \ JPH::PhysicsSettings\ \ mPhysicsSettings;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Main\ physics\ simulation\ settings}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00374}00374\ \ \ \ \ JPH::BodyActivationListener*\ mBodyActivationListener\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Body\ activation\ listener\ implementation}}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00375}00375\ \};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00376}00376\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00377}00377\ }
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00378}\mbox{\hyperlink{_physics_prototype_8h_a04200ec9f91f683e0a28431c0c46e713}{00378}}\ JPH::PhysicsSystem*\ \mbox{\hyperlink{_physics_prototype_8h_a04200ec9f91f683e0a28431c0c46e713}{GetPhysicsSystem}}()\ \{}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00379}00379\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_techstorm_1_1_singleton_a992b0c97479f1cca7c5027314207f5be}{PhysicsEngine::Instance}}().\mbox{\hyperlink{class_techstorm_1_1_physics_engine_a59d5b0beac4b1d88778946093fd000f1}{mPhysicsSystem}};}
\DoxyCodeLine{\Hypertarget{_physics_prototype_8h_source_l00380}00380\ \}}

\end{DoxyCode}
